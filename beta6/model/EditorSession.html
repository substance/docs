<html>
  <head>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Josefin+Sans:400,600' rel='stylesheet' type='text/css'>
    <link href="../github.css" rel="stylesheet" type="text/css">
    <link href='../substance/substance.css' rel='stylesheet' type='text/css'/>
    <link href='../reader.css' rel='stylesheet' type='text/css'/>
  </head>
  <body>
    <div class="sc-documentation-reader sc-controller"><div class="sc-navbar"><div class="se-title"><a href="../getting-started.html">Substance</a></div><div class="se-pages"><a href="../getting-started.html" class="se-page">Getting started</a><a href="../api.html" class="se-page">API</a></div></div><div class="se-page-content"><div class="se-context-section"><div class="sc-api-toc"><div class="se-category"><div class="se-label">Classes</div><div class="se-items"><a href="../ui/AbstractEditor.html" class="se-item">AbstractEditor</a><a href="../ui/AnnotationCommand.html" class="se-item">AnnotationCommand</a><a href="../ui/Command.html" class="se-item">Command</a><a href="../ui/Component.html" class="se-item">Component</a><a href="../util/Configurator.html" class="se-item">Configurator</a><a href="../model/ContainerSelection.html" class="se-item">ContainerSelection</a><a href="../model/DOMImporter.html" class="se-item">DOMImporter</a><a href="../model/Document.html" class="se-item">Document</a><a href="../model/DocumentNode.html" class="se-item">DocumentNode</a><a href="../ui/EditAnnotationCommand.html" class="se-item">EditAnnotationCommand</a><a href="../model/Editing.html" class="se-item">Editing</a><a href="../util/EventEmitter.html" class="se-item">EventEmitter</a><a href="../packages/inline-node/InsertInlineNodeCommand.html" class="se-item">InsertInlineNodeCommand</a><a href="../model/data/NodeIndex.html" class="se-item">NodeIndex</a><a href="../model/PropertyAnnotation.html" class="se-item">PropertyAnnotation</a><a href="../model/PropertySelection.html" class="se-item">PropertySelection</a><a href="../packages/prose-editor/ProseEditor.html" class="se-item">ProseEditor</a><a href="../packages/scroll-pane/ScrollPane.html" class="se-item">ScrollPane</a><a href="../model/Selection.html" class="se-item">Selection</a><a href="../packages/spell-check/SpellCheckCommand.html" class="se-item">SpellCheckCommand</a><a href="../packages/surface/Surface.html" class="se-item">Surface</a><a href="../model/TextNode.html" class="se-item">TextNode</a><a href="../model/TransactionDocument.html" class="se-item">TransactionDocument</a><a href="../ui/VirtualElement.html" class="se-item">VirtualElement</a></div></div><div class="se-category"><div class="se-label">Components</div><div class="se-items"><a href="../ui/AnnotatedTextComponent.html" class="se-item">AnnotatedTextComponent</a><a href="../ui/AnnotationComponent.html" class="se-item">AnnotationComponent</a><a href="../ui/AnnotationTool.html" class="se-item">AnnotationTool</a><a href="../packages/body-scroll-pane/BodyScrollPane.html" class="se-item">BodyScrollPane</a><a href="../ui/ContainerEditor.html" class="se-item">ContainerEditor</a><a href="../packages/link/EditLinkTool.html" class="se-item">EditLinkTool</a><a href="../packages/layout/Layout.html" class="se-item">Layout</a><a href="../packages/modal/Modal.html" class="se-item">Modal</a><a href="../packages/scrollbar/Scrollbar.html" class="se-item">Scrollbar</a><a href="../packages/split-pane/SplitPane.html" class="se-item">SplitPane</a><a href="../packages/switch-text-type/SwitchTextTypeTool.html" class="se-item">SwitchTextTypeTool</a><a href="../ui/TextPropertyComponent.html" class="se-item">TextPropertyComponent</a><a href="../ui/TextPropertyEditor.html" class="se-item">TextPropertyEditor</a><a href="../packages/tools/Tool.html" class="se-item">Tool</a></div></div><div class="se-category"><div class="se-label">Modules</div><div class="se-items"><a href="../util/platform.html" class="se-item">platform</a></div></div></div></div><div class="se-main-section"><div data-id="model/EditorSession" class="sc-class"><div class="sc-doc-heading"><div class="se-header"><span class="se-name">EditorSession</span></div><div class="se-details class"><strong class="se-type">Class</strong><span class="se-source"><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L20" target="_blank" data-source-file="model/EditorSession.js" data-source-line="20" class="sc-source-link">model/EditorSession.js#20</a></span><span class="se-extends"><span> inherits from </span><span></span></span></div></div><div class="se-description"></div><div class="se-usage"></div><div class="se-member-category"><div class="se-members"><div data-id="model/EditorSession()" id="EditorSession" class="sc-method"><div class="sc-signature"><a href="../model/EditorSession.html#EditorSession" class="se-declaration"><span class="se-storage">new </span><span class="se-name">EditorSession</span>(<span class="se-arguments"></span>)</a><div class="se-source"><strong>Constructor</strong><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L22" target="_blank" data-source-file="model/EditorSession.js" data-source-line="22" class="sc-source-link">model/EditorSession.js#22</a></div></div><div class="se-description"></div></div></div></div><div class="se-member-category"><div class="se-members"><div data-id="model/EditorSession#transaction()" id="transaction" class="sc-method"><div class="sc-signature"><a href="../model/EditorSession.html#transaction" class="se-declaration"><span class="se-storage">this.</span><span class="se-name">transaction</span>(<span class="se-arguments">transformation</span>)</a><div class="se-source"><strong>Method</strong><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L306" target="_blank" data-source-file="model/EditorSession.js" data-source-line="306" class="sc-source-link">model/EditorSession.js#306</a></div></div><div class="se-description"><p>Start a transaction to manipulate the document</p>
</div><div class="sc-params"><div class="se-label">Parameters</div><table class="se-params-table"><tr class="se-param"><td class="se-param-name">transformation</td><td class="se-param-type"><span>function</span></td><td class="se-param-description"><p>a function(tx) that performs actions on the transaction document tx</p>
</td></tr></table></div><div class="sc-example"><div class="se-heading">Example</div><div class="se-body"><div class="se-description"><pre><code class="hljs lang-js">doc.transaction(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tx, args</span>) </span>{
  tx.update(...)
  ...
  tx.setSelection(newSelection)
})
</code></pre>
</div></div></div></div><div data-id="model/EditorSession#onUpdate()" id="onUpdate" class="sc-method"><div class="sc-signature"><a href="../model/EditorSession.html#onUpdate" class="se-declaration"><span class="se-storage">this.</span><span class="se-name">onUpdate</span>(<span class="se-arguments">resource, handler, context, options</span>)</a><div class="se-source"><strong>Method</strong><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L341" target="_blank" data-source-file="model/EditorSession.js" data-source-line="341" class="sc-source-link">model/EditorSession.js#341</a></div></div><div class="se-description"><p>Registers a hook for the <code>update</code> phase.</p>
<p>During <code>update</code> data should be derived necessary for rendering.</p>
<p>This is mainly used by extensions of the EditorSession to
derive extra state information.</p>
</div><div class="sc-params"><div class="se-label">Parameters</div><table class="se-params-table"><tr class="se-param"><td class="se-param-name">[resource]</td><td class="se-param-type"><span>string</span></td><td class="se-param-description"><p>the name of the resource</p>
</td></tr><tr class="se-param"><td class="se-param-name">handler</td><td class="se-param-type"><span>Function</span></td><td class="se-param-description"><p>the function handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">context</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>owner of the handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">[options]</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>options for the resource handler</p>
</td></tr></table></div></div><div data-id="model/EditorSession#onRender()" id="onRender" class="sc-method"><div class="sc-signature"><a href="../model/EditorSession.html#onRender" class="se-declaration"><span class="se-storage">this.</span><span class="se-name">onRender</span>(<span class="se-arguments">resource, handler, context, options</span>)</a><div class="se-source"><strong>Method</strong><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L379" target="_blank" data-source-file="model/EditorSession.js" data-source-line="379" class="sc-source-link">model/EditorSession.js#379</a></div></div><div class="se-description"><p>Registers a hook for the 'render' phase.</p>
<p>During <code>render</code>, components should be rerendered.</p>
</div><div class="sc-params"><div class="se-label">Parameters</div><table class="se-params-table"><tr class="se-param"><td class="se-param-name">[resource]</td><td class="se-param-type"><span>string</span></td><td class="se-param-description"><p>the name of the resource</p>
</td></tr><tr class="se-param"><td class="se-param-name">handler</td><td class="se-param-type"><span>Function</span></td><td class="se-param-description"><p>the function handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">context</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>owner of the handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">[options]</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>options for the resource handler</p>
</td></tr></table></div><div class="sc-example"><div class="se-heading">Example</div><div class="se-body"><div class="se-description"><p>This typically used by components that render node content.</p>
<pre><code class="hljs lang-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImageComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  didMount() {
    <span class="hljs-keyword">this</span>.context.editorSession.onRender(<span class="hljs-string">'document'</span>, <span class="hljs-keyword">this</span>.rerender, <span class="hljs-keyword">this</span>, {
      path: [<span class="hljs-keyword">this</span>.props.node.id, <span class="hljs-string">'src'</span>]
    })
  }
  dispose() {
    <span class="hljs-keyword">this</span>.context.editorSession.off(<span class="hljs-keyword">this</span>)
  }
  render($$) {
    ...
  }
}
</code></pre>
</div></div></div></div><div data-id="model/EditorSession#onPostRender()" id="onPostRender" class="sc-method"><div class="sc-signature"><a href="../model/EditorSession.html#onPostRender" class="se-declaration"><span class="se-storage">this.</span><span class="se-name">onPostRender</span>(<span class="se-arguments">resource, handler, context, options</span>)</a><div class="se-source"><strong>Method</strong><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L396" target="_blank" data-source-file="model/EditorSession.js" data-source-line="396" class="sc-source-link">model/EditorSession.js#396</a></div></div><div class="se-description"><p>Registers a hook for the 'post-render' phase.</p>
<p>ATM, this phase is used internally only, for recovering the DOM selection
which typically gets destroyed due to rerendering</p>
</div><div class="sc-params"><div class="se-label">Parameters</div><table class="se-params-table"><tr class="se-param"><td class="se-param-name">[resource]</td><td class="se-param-type"><span>string</span></td><td class="se-param-description"><p>the name of the resource</p>
</td></tr><tr class="se-param"><td class="se-param-name">handler</td><td class="se-param-type"><span>Function</span></td><td class="se-param-description"><p>the function handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">context</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>owner of the handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">[options]</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>options for the resource handler</p>
</td></tr></table></div></div><div data-id="model/EditorSession#onPosition()" id="onPosition" class="sc-method"><div class="sc-signature"><a href="../model/EditorSession.html#onPosition" class="se-declaration"><span class="se-storage">this.</span><span class="se-name">onPosition</span>(<span class="se-arguments">resource, handler, context, options</span>)</a><div class="se-source"><strong>Method</strong><span> defined in </span><a href="https://github.com/substance/substance/blob/v1.0.0-beta.6/model/EditorSession.js#L413" target="_blank" data-source-file="model/EditorSession.js" data-source-line="413" class="sc-source-link">model/EditorSession.js#413</a></div></div><div class="se-description"><p>Registers a hook for the 'position' phase.</p>
<p>During <code>position</code>, components such as Overlays, for instance, should be positioned.
At this stage, it is guaranteed that all content is rendered, and the DOM selection
is set.</p>
</div><div class="sc-params"><div class="se-label">Parameters</div><table class="se-params-table"><tr class="se-param"><td class="se-param-name">[resource]</td><td class="se-param-type"><span>string</span></td><td class="se-param-description"><p>the name of the resource</p>
</td></tr><tr class="se-param"><td class="se-param-name">handler</td><td class="se-param-type"><span>Function</span></td><td class="se-param-description"><p>the function handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">context</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>owner of the handler</p>
</td></tr><tr class="se-param"><td class="se-param-name">[options]</td><td class="se-param-type"><span>Object</span></td><td class="se-param-description"><p>options for the resource handler</p>
</td></tr></table></div></div></div></div></div></div></div></div>
  </body>
</html>